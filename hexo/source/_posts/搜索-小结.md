---
title: 紫书搜索小结
date: 2016-10-21 16:49:02
tags: 
- 小结
- search
categories:
- apoc
- 07-暴力求解法
- 小结
---



# 简单枚举
1. **[UVa 725 Division[1]](/2016/10/21/uva725/)**
2. **[UVa 10976 Fractions Again?![1]](/2016/10/21/uva10976/)**

# 枚举排列
1. **生成1~n的排列**
  - 利用递归和一个判重数组
2. **生成可重集的排列**
  - 沿用递归全排列的结构，每次从集合中选前面挑剩下的，且同一位置，一种元素只能出现一次。
3. **解答树**
  - 如果某问题的解可以由多个步骤得到，而每个步骤都有若干种选择，且可以用递归枚举实现，则它的工作方式可以用解答树来描述。
4. **next_permutation**
  - `next_permutation(p, p+n)`
  - 注意：根据字典序计算的，会修改p的值。同样适用于可重集。

# 枚举子集
1. **增量构造法**
  - 一次选出一个元素放到集合中，类似生成全排列，通过遍历有序集合，避免重复。
2. **二进制枚举**
  - A&B、A|B和A^B对应集合的交、并和对称差。
  - 空集为0，全集`ALL_BITS=(1<<n)-1`。
  - 补集为`ALL_BITS^A`

# 回溯法
应用范围很广，只要问题可以分成不太多的步骤，每个步骤又只有不太多的选择，都可以考虑应用回溯法。最大的优点是占用内存少。但在拓展结点方面还是具有相当的盲目性。
1. **八皇后**
2. **[UVa 524 Prime Ring Problem[2]](/2016/10/22/uva524/)**
3. **[UVa 129 困难的串[2]](/2016/10/22/uva129/)**
4. **[UVa 140 带宽[2]](/2016/10/22/uva140/)**
	- 在求最优解的问题中，应尽量考虑最优性剪枝。往往需要记录下当前最优解，并想办法“预测”：计算最理想情况下的解，如果这样都比当前最优解差，则剪枝。
5. **[UVa 1354 天平难题[*]](/2016/10/23/uva1354/)**
	- 搜索对象的选取

# 路径寻找问题
路径寻找问题可以归结为隐式图的遍历，它的任务是找到一条从初始状态到终止状态的最优路径，而不是像回溯法那样找到一个符合某些要求的解。
1. **八数码**
	- 无权图的最短路用BFS求解。
	- 用hash技术实现结点判重：
		```cpp
		const int hashsize = 1000003;
		int head[hashsize], next[hashsize];
		void init_lookup_table() {MEM(head, 0);}
		int hash(State& s) {
			// 将状态转成整数
			// ...
			return v%hashsize;
		}
		bool try_to_insert(int s) {
			int h = hash(st[s]);
			int u = head[h];
			while (u) {
				// 判重
				if (memcmp(st[u], st[s], sizeof(st[u])) == 0)
					return false;
				u = next[u];
			}
			next[s] = head[h];
			head[h] = s;
			return true;
		}
		```
	- `set<int>` 也可以用来判重，但是效率低下，可以用来作“跳板”。
2. **[UVa 10603 倒水问题[1]](/2016/10/24/uva10403/)**
3. **[UVa 1601 The Morning after Halloween[4]](/2016/10/24/uva1601/)**

# 迭代加深搜索
对于可以用回溯法求解但解答树的深度没有明显上限的题目，可以考虑使用迭代加深搜索。设深度上限为$maxd$,当前结点$n$的深度为$g(n)$，乐观估价函数为$h(n)$，则当$g(n)+h(n)>maxd$时应该剪枝。这样的算法就是IDA$\ast$。当有一类问题需要$BFS$，但却没有足够的空间，我们也可以考虑IDS。对于搜索中的剪枝，通常比较难估计其复杂度。与其他算法不同，很难知道这类方法能对搜索速度有多大的提高，建议通过各类方法的实际测试，边比较边学习。在比赛中尝试各种方法是不切实际的，不妨先尝试某种看似可行的方法，如果还不够高效的话，再考虑进一步优化。
1. **[codevs 1288 埃及分数[4]](/2016/10/25/eygpt/)**
2. **[UVa 11212 编辑书稿[4]](/2016/10/25/uva11212/)**

# 竞赛题选讲
1. **[UVa 12325 Zombie's Treasure Chest[4]](/2016/10/26/uva12325/)**
2. **[UVa 1343 旋转游戏[4]](/2016/10/26/uva1343/)**
3. **[UVa 1374 Power Calculus[4]](/2016/10/26/uva1374/)**
